<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="React Native 中文网 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="React Native 中文网 Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-63485149-4","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63485149-4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-63485149-4",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="React Native 中文网" href="/opensearch.xml">
<script src="//cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="//snack.expo.io/embed.js" defer="defer"></script><title data-react-helmet="true">_getting-started-macos-android · React Native 中文网</title><meta data-react-helmet="true" name="twitter:image" content="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/logo-og.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for React Native 中文网"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.63"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.63"><meta data-react-helmet="true" property="og:image" content="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/logo-og.png"><meta data-react-helmet="true" property="og:title" content="_getting-started-macos-android · React Native 中文网"><meta data-react-helmet="true" name="description" content="安装依赖"><meta data-react-helmet="true" property="og:description" content="安装依赖"><meta data-react-helmet="true" property="og:url" content="https://reactnative.cn/docs/_getting-started-macos-android"><link data-react-helmet="true" rel="shortcut icon" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://reactnative.cn/docs/_getting-started-macos-android"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/styles.805d4103.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/main.a2639480.css">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/styles.b56b0f24.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/main.36ac3f9c.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/1.b05de58e.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/2.718b000f.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/336.b32bdd1f.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/ee5b3385.52422a11.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/17896441.bd402e69.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/f612f9dd.415cf873.js" as="script">
<link rel="preload" href="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/f88ba1af.aa5e5cf3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_3aLp">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/header_logo.svg" alt="React Native 中文网" class="themedImage_phiS themedImage--light_VJaY navbar__logo"><img src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/header_logo.svg" alt="React Native 中文网" class="themedImage_phiS themedImage--dark_1NF3 navbar__logo"><strong class="navbar__title">React Native 中文网</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/getting-started">0.63</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/_getting-started-macos-android">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/_getting-started-macos-android">0.63</a></li><li><a class="dropdown__link" href="/versions">所有版本</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started">文档</a><a class="navbar__item navbar__link" href="/docs/components-and-apis">组件</a><a class="navbar__item navbar__link" href="/docs/accessibilityinfo">API</a><a href="//github.com/reactnativecn/react-native-website/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">讨论</a><a href="//pushy.reactnative.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">热更新</a><a class="navbar__item navbar__link" href="/about">关于</a><a href="//github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_Bh6k"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_1UDy">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_1UDy">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/header_logo.svg" alt="React Native 中文网" class="themedImage_phiS themedImage--light_VJaY navbar__logo"><img src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/header_logo.svg" alt="React Native 中文网" class="themedImage_phiS themedImage--dark_1NF3 navbar__logo"><strong class="navbar__title">React Native 中文网</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/components-and-apis">组件</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/accessibilityinfo">API</a></li><li class="menu__list-item"><a href="//github.com/reactnativecn/react-native-website/issues" target="_blank" rel="noopener noreferrer" class="menu__link">讨论</a></li><li class="menu__list-item"><a href="//pushy.reactnative.cn" target="_blank" rel="noopener noreferrer" class="menu__link">热更新</a></li><li class="menu__list-item"><a class="menu__link" href="/about">关于</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/_getting-started-macos-android">Next</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/_getting-started-macos-android">0.63</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">所有版本</a></li></ul></li><li class="menu__list-item"><a href="//github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="menu__link navbar-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1mVJ"><main class="docMainContainer_1zi2"><div class="container padding-vert--lg docItemWrapper_1hMI"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><header><h1 class="docTitle_cWlf">_getting-started-macos-android</h1></header><a href="https://datayi.cn/w/Yo1vDOv9" target="_blank" style="display:block;padding:12px;background-color:#eee;color:#666;margin-bottom:15px"><span style="font-weight:bold;color:#05a5d1">React 实战教程</span> 深入学习一线大厂必备前端技能，VIP 教程限时免费领取。 <span style="border:solid 1px #666;padding:4px 6px;margin-left:8px;vertical-align:middle">立即查看 &gt;</span></a><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="安装依赖"></a>安装依赖<a class="hash-link" href="#安装依赖" title="Direct link to heading">#</a></h2><p>必须安装的依赖有：Node、JDK 和 Android Studio。</p><p>虽然你可以使用<code>任何编辑器</code>来开发应用（编写 js 代码），但你仍然必须安装 Android Studio 来获得编译 Android 应用所需的工具和环境。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="node--watchman"></a>Node &amp; Watchman<a class="hash-link" href="#node--watchman" title="Direct link to heading">#</a></h3><p>我们推荐使用<a href="http://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>来安装 Node 和 Watchman。在命令行中执行下列命令安装（如安装较慢可以尝试阿里云的<a href="https://developer.aliyun.com/mirror/homebrew" target="_blank" rel="noopener noreferrer">镜像源</a>）：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">brew </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> node</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">brew </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> watchman</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>如果你已经安装了 Node，请检查其版本是否在 v12 以上。安装完 Node 后建议设置 npm 镜像（淘宝源）以加速后面的过程（或使用科学上网工具）。</p><blockquote><p>注意：不要使用 cnpm！cnpm 安装的模块路径比较奇怪，packager 不能正常识别！</p></blockquote><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token comment" style="color:#93a1a1"># 使用nrm工具切换淘宝源</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npx nrm use taobao</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token comment" style="color:#93a1a1"># 如果之后需要切换回官方源可使用</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npx nrm use </span><span class="token function" style="color:#79b6f2">npm</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p><a href="https://facebook.github.io/watchman" target="_blank" rel="noopener noreferrer">Watchman</a>则是由 Facebook 提供的监视文件系统变更的工具。安装此工具可以提高开发时的性能（packager 可以快速捕捉文件的变化从而实现实时刷新）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="yarn"></a>Yarn<a class="hash-link" href="#yarn" title="Direct link to heading">#</a></h3><p><a href="http://yarnpkg.com" target="_blank" rel="noopener noreferrer">Yarn</a>是 Facebook 提供的替代 npm 的工具，可以加速 node 模块的下载。</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-jsx codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npm install </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">g yarn</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>安装完 yarn 之后就可以用 yarn 代替 npm 了，例如用<code>yarn</code>代替<code>npm install</code>命令，用<code>yarn add 某第三方库名</code>代替<code>npm install 某第三方库名</code>。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="java-development-kit"></a>Java Development Kit<a class="hash-link" href="#java-development-kit" title="Direct link to heading">#</a></h3><p>我们推荐使用<a href="http://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>来安装 JDK：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">brew cask </span><span class="token function" style="color:#79b6f2">install</span><span class="token plain"> adoptopenjdk/openjdk/adoptopenjdk8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>React Native 需要 Java Development Kit [JDK] 1.8（暂不支持 1.9 及更高版本，注意 1.8 版本官方也直接称 8 版本）。你可以在命令行中输入</p><blockquote><p><code>javac -version</code>（请注意是 java<code>c</code>，不是 java）来查看你当前安装的 JDK 版本。</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="android-开发环境"></a>Android 开发环境<a class="hash-link" href="#android-开发环境" title="Direct link to heading">#</a></h3><p>如果你之前没有接触过 Android 的开发环境，那么请做好心理准备，这一过程相当繁琐。请<code>万分仔细</code>地阅读下面的说明，严格对照文档进行配置操作。</p><blockquote><p>译注：请注意！！！国内用户<code>必须必须必须</code>有稳定的代理软件，否则在下载、安装、配置过程中会不断遭遇链接超时或断开，无法进行开发工作。某些代理软件可能只提供浏览器的代理功能，或只针对特定网站代理等等，请自行研究配置或更换其他软件。总之如果报错中出现有网址，那么 99% 就是无法正常连接网络</p></blockquote><h4>1. 安装 Android Studio</h4><p><a href="https://developer.android.google.cn/studio/" target="_blank" rel="noopener noreferrer">首先下载和安装 Android Studio</a>，国内用户可能无法打开官方链接，请自行使用搜索引擎搜索可用的下载链接。安装界面中选择&quot;Custom&quot;选项，确保选中了以下几项：</p><ul><li><code>Android SDK</code></li><li><code>Android SDK Platform</code></li><li><code>Android Virtual Device</code></li></ul><p>然后点击&quot;Next&quot;来安装选中的组件。</p><blockquote><p>如果选择框是灰的，你也可以先跳过，稍后再来安装这些组件。</p></blockquote><p>安装完成后，看到欢迎界面时，就可以进行下面的操作了。</p><h4>2. 安装 Android SDK</h4><p>Android Studio 默认会安装最新版本的 Android SDK。目前编译 React Native 应用需要的是<code>Android 10 (Q)</code>版本的 SDK（注意 SDK 版本不等于终端系统版本，RN 目前支持 android 4.1 以上设备）。你可以在 Android Studio 的 SDK Manager 中选择安装各版本的 SDK。</p><p>你可以在 Android Studio 的欢迎界面中找到 SDK Manager。点击&quot;Configure&quot;，然后就能看到&quot;SDK Manager&quot;。</p><p><img alt="Android Studio Welcome" src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/assets/images/GettingStartedAndroidStudioWelcomeMacOS-cbb28b4b70c4158c1afd02ddb6b12f4a.png"></p><blockquote><p>SDK Manager 还可以在 Android Studio 的&quot;Preferences&quot;菜单中找到。具体路径是<strong>Appearance &amp; Behavior</strong> → <strong>System Settings</strong> → <strong>Android SDK</strong>。</p></blockquote><p>在 SDK Manager 中选择&quot;SDK Platforms&quot;选项卡，然后在右下角勾选&quot;Show Package Details&quot;。展开<code>Android 10 (Q)</code>选项，确保勾选了下面这些组件（重申你必须使用稳定的代理软件，否则可能都看不到这个界面）：</p><ul><li><code>Android SDK Platform 29</code></li><li><code>Intel x86 Atom_64 System Image</code>（官方模拟器镜像文件，使用非官方模拟器不需要安装此组件）</li></ul><p>然后点击&quot;SDK Tools&quot;选项卡，同样勾中右下角的&quot;Show Package Details&quot;。展开&quot;Android SDK Build-Tools&quot;选项，确保选中了 React Native 所必须的<code>29.0.2</code>版本。你可以同时安装多个其他版本。</p><p>然后还是在&quot;SDK Tools&quot;选项卡，点击&quot;NDK (Side by side)&quot;，同样勾中右下角的&quot;Show Package Details&quot;，选择<code>20.1.5948944</code>版本进行安装。</p><p>最后点击&quot;Apply&quot;来下载和安装这些组件。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="3-配置-android_home-环境变量"></a>3. 配置 ANDROID_HOME 环境变量<a class="hash-link" href="#3-配置-android_home-环境变量" title="Direct link to heading">#</a></h4><p>React Native 需要通过环境变量来了解你的 Android SDK 装在什么路径，从而正常进行编译。</p><p>具体的做法是把下面的命令加入到 shell 的配置文件中。如果你的 shell 是 zsh，则配置文件为<code>~/.zshrc</code>，如果是 bash 则为<code>~/.bash_profile</code>（可以使用<code>echo $0</code>命令查看你所使用的 shell。）：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token comment" style="color:#93a1a1"># 如果你不是通过Android Studio安装的sdk，则其路径可能不同，请自行确定清楚</span><span class="token plain"></span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#cb4b16">ANDROID_HOME</span><span class="token operator" style="color:#fc929e">=</span><span class="token environment constant" style="color:#5a9bcf">$HOME</span><span class="token plain">/Library/Android/sdk</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#5a9bcf">PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token environment constant" style="color:#5a9bcf">$PATH</span><span class="token builtin class-name" style="color:#fac863">:</span><span class="token variable" style="color:#cb4b16">$ANDROID_HOME</span><span class="token plain">/emulator</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#5a9bcf">PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token environment constant" style="color:#5a9bcf">$PATH</span><span class="token builtin class-name" style="color:#fac863">:</span><span class="token variable" style="color:#cb4b16">$ANDROID_HOME</span><span class="token plain">/tools</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#5a9bcf">PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token environment constant" style="color:#5a9bcf">$PATH</span><span class="token builtin class-name" style="color:#fac863">:</span><span class="token variable" style="color:#cb4b16">$ANDROID_HOME</span><span class="token plain">/tools/bin</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token builtin class-name" style="color:#fac863">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#5a9bcf">PATH</span><span class="token operator" style="color:#fc929e">=</span><span class="token environment constant" style="color:#5a9bcf">$PATH</span><span class="token builtin class-name" style="color:#fac863">:</span><span class="token variable" style="color:#cb4b16">$ANDROID_HOME</span><span class="token plain">/platform-tools</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><blockquote><p>译注：~表示用户目录，即<code>/Users/你的用户名/</code>，而小数点开头的文件在 Finder 中是隐藏的，并且这个文件有可能并不存在。可在终端下使用<code>vi ~/.zshrc</code>命令创建或编辑。如不熟悉 vi 操作，请点击<a href="http://www.eepw.com.cn/article/48018.htm" target="_blank" rel="noopener noreferrer">这里</a>学习。</p></blockquote><p>使用<code>source $HOME/.zshrc</code>命令来使环境变量设置立即生效（否则重启后才生效）。可以使用<code>echo $ANDROID_HOME</code>检查此变量是否已正确设置。</p><blockquote><p>请确保你正确指定了 Android SDK 路径。你可以在 Android Studio 的&quot;Preferences&quot;菜单中查看 SDK 的真实路径，具体是<strong>Appearance &amp; Behavior</strong> → <strong>System Settings</strong> → <strong>Android SDK</strong>。</p></blockquote><h2>创建新项目</h2><blockquote><p>如果你之前全局安装过旧的<code>react-native-cli</code>命令行工具，请使用<code>npm uninstall -g react-native-cli</code>卸载掉它以避免一些冲突。</p></blockquote><p>使用 React Native 内建的命令行工具来创建一个名为&quot;AwesomeProject&quot;的新项目。这个命令行工具不需要安装，可以直接用 node 自带的<code>npx</code>命令来使用：</p><blockquote><p><strong>必须要看的注意事项</strong>：请<code>不要</code>单独使用常见的关键字作为项目名（如 class, native, new, package 等等）。请<code>不要</code>使用与核心模块同名的项目名（如 react, react-native 等）。请<code>不要</code>在目录、文件名中使用中文、空格等特殊符号。</p></blockquote><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npx react-native init AwesomeProject</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>如果你是想把 React Native 集成到现有的原生项目中，则步骤完全不同，请参考<a href="/docs/integration-with-existing-apps">集成到现有原生应用</a>。</p><h3>[可选参数] 指定版本或项目模板</h3><p>你可以使用<code>--version</code>参数（注意是<code>两</code>个杠）创建指定版本的项目。例如：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npx react-native init AwesomeProject --version X.XX.X</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>还可以使用<code>--template</code>来使用一些社区提供的模板，例如带有<code>TypeScript</code>配置的：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-shell codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">npx react-native init AwesomeTSProject --template react-native-template-typescript</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="准备-android-设备"></a>准备 Android 设备<a class="hash-link" href="#准备-android-设备" title="Direct link to heading">#</a></h2><p>你需要准备一台 Android 设备来运行 React Native Android 应用。这里所指的设备既可以是真机，也可以是模拟器。后面我们所有的文档除非特别说明，并不区分真机或者模拟器。Android 官方提供了名为 Android Virtual Device（简称 AVD）的模拟器。此外还有很多第三方提供的模拟器如<a href="https://www.genymotion.com/download" target="_blank" rel="noopener noreferrer">Genymotion</a>、BlueStack 等。一般来说官方模拟器免费、功能完整，但性能较差。第三方模拟器性能较好，但可能需要付费，或带有广告。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="使用-android-真机"></a>使用 Android 真机<a class="hash-link" href="#使用-android-真机" title="Direct link to heading">#</a></h3><p>你也可以使用 Android 真机来代替模拟器进行开发，只需用 usb 数据线连接到电脑，然后遵照<a href="/docs/running-on-device">在设备上运行</a>这篇文档的说明操作即可。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="使用-android-模拟器"></a>使用 Android 模拟器<a class="hash-link" href="#使用-android-模拟器" title="Direct link to heading">#</a></h3><p>你可以使用 Android Studio 打开项目下的&quot;android&quot;目录，然后可以使用&quot;AVD Manager&quot;来查看可用的虚拟设备，它的图标看起来像下面这样：</p><p><img alt="Android Studio AVD Manager" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAZCAIAAABCYLJOAAACLUlEQVR4Ab2Vw6IfPxiG3zfJHPPP2rbdfW3rProsLqCr7rqsbVur2raPPb+Z5Du2+YyRJ87HtLQ0dAIKnYNBQ5BEI4hI271BEIjUNZAgqbUm2WovyRLpyVMnfd83xggq3ATDMHTOzZo1q3ev3iRbXV4RKZEuXLBQayPOAQSESjlnDx85nJ+fjwpa7zUlaHPj2CO/oLTUNnTR8Wb2kvGeZ9rVbwJxTuArm69haAMaqtJXgnZ5y1tVmxKsMoqgKS0p2z1+WdEgItWXjp4XJEiCHesVZ50LnbUOrcE0LQURk2BsYHU0ASmnuqUgrfaSEAcvWs9eMQbKGe0J0L17j8TERJICW+hnx0Ylk6o17SAVF6U1lL3/bld+UbrAzpgx9f///4sEeT/TH955srMwkk2wNeUlROCsiBNCicu7dH+zH5BUgChapThh0NrYqCRpbTsoxZiEKBu60EbSsr+m5Z7RaoiIJQkQkv3lz8De/8/0tJEWekmKdSXb9MUjRYK7L3bk+996/7PpT/Zr6yIko0xcSsK0r2n33/+4NLjnXNIA0nz7kizy/b379ly6ckGIb+kPUhP7zZu5zTN/B/ZzaL+lxPecN2O7YsKbL2edOLLF5f3/v/+zsrOSk1MAxEb1z8j5dezaVggTYiYDyCnIP359q4gENl4EDdJwfLPWAiCplAptABEHp2oMKSfljzTaa0W/GVPxXkQ8EwWw5gCs+VhCK7w1/25o0ZHOj8dd7C0GRnwgNA5r8rwAAAAASUVORK5CYII="></p><p>如果你刚刚才安装 Android Studio，那么可能需要先<a href="https://developer.android.com/studio/run/managing-avds.html" target="_blank" rel="noopener noreferrer">创建一个虚拟设备</a>。点击&quot;Create Virtual Device...&quot;，然后选择所需的设备类型并点击&quot;Next&quot;，然后选择<strong>Q</strong> API Level 29 image.</p><blockquote><p>译注：请不要轻易点击 Android Studio 中可能弹出的建议更新项目中某依赖项的建议，否则可能导致无法运行。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="编译并运行-react-native-应用"></a>编译并运行 React Native 应用<a class="hash-link" href="#编译并运行-react-native-应用" title="Direct link to heading">#</a></h2><p>确保你先运行了模拟器或者连接了真机，然后在你的项目目录中运行<code>yarn android</code>或者<code>yarn react-native run-android</code>：</p><div class="mdxCodeBlock_1daz"><div class="codeBlockContent_2es_"><div tabindex="0" class="prism-code language-jsx codeBlock_27aQ thin-scrollbar"><div class="codeBlockLines_2rCb" style="color:#FFFFFF;background:#282C34"><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">cd AwesomeProject</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">yarn android</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"># 或者</span></div><div class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">yarn react</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">native run</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">android</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2bml">Copy</button></div></div><p>此命令会对项目的原生部分进行编译，同时在另外一个命令行中启动<code>Metro</code>服务对 js 代码进行实时打包处理（类似 webpack）。<code>Metro</code>服务也可以使用<code>yarn start</code>命令单独启动。</p><p>如果配置没有问题，你应该可以看到应用自动安装到设备上并开始运行。注意第一次运行时需要下载大量编译依赖，耗时可能数十分钟。此过程<code>严重依赖稳定的代理软件</code>，否则将频繁遭遇链接超时和断开，导致无法运行。</p><p>也可以尝试阿里云提供的<a href="https://help.aliyun.com/document_detail/102512.html?spm=a2c40.aliyun_maven_repo.0.0.361865e90r2x4b" target="_blank" rel="noopener noreferrer">maven 镜像</a>，将<code>android/build.gradle</code>中的<code>jcenter()</code>和<code>google()</code>分别替换为<code>maven { url &#x27;https://maven.aliyun.com/repository/jcenter&#x27; }</code>和<code>maven { url &#x27;https://maven.aliyun.com/repository/google&#x27; }</code>（注意有多处需要替换）。</p><p><code>npx react-native run-android</code>只是运行应用的方式之一。你也可以在 Android Studio 中直接运行应用。</p><blockquote><p>译注：建议在<code>run-android</code>成功后再尝试使用 Android Studio 启动。请不要轻易点击 Android Studio 中可能弹出的建议更新项目中某依赖项的建议，否则可能导致无法运行。</p></blockquote><blockquote><p>如果你无法正常运行，遇到奇奇怪怪的红屏错误，先回头<code>仔细对照文档检查</code>，然后可以看看<a href="https://github.com/reactnativecn/react-native-website/issues" target="_blank" rel="noopener noreferrer">问题讨论区</a>。不同时期不同版本可能会碰到不同的问题，我们会在论坛中及时解答更新。但请注意<strong><em>千万不要</em></strong>执行 bundle 命令，那样会导致代码完全无法刷新。</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="修改项目"></a>修改项目<a class="hash-link" href="#修改项目" title="Direct link to heading">#</a></h3><p>现在你已经成功运行了项目，我们可以开始尝试动手改一改了：</p><ul><li>使用你喜欢的文本编辑器打开<code>App.js</code>并随便改上几行</li><li>按两下 R 键，或是在开发者菜单中选择 <em>Reload</em>，就可以看到你的最新修改。</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="完成了！"></a>完成了！<a class="hash-link" href="#完成了！" title="Direct link to heading">#</a></h3><p>恭喜！你已经成功运行并修改了你的第一个 React Native 应用</p><center><img src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/docs/assets/GettingStartedCongratulations.png" width="150"></center><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="接下来？"></a>接下来？<a class="hash-link" href="#接下来？" title="Direct link to heading">#</a></h2><p>如果你想把 React Native 集成到现有的原生项目中，则请参考<a href="/docs/integration-with-existing-apps">集成到现有原生应用</a>。</p><p>如果你想从头开始学习 React Native 开发，可以从<a href="/docs/environment-setup">简介</a>文档开始。</p><hr><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_E4oP" id="本文档贡献者：sunnylqm10000"></a>本文档贡献者：<a href="https://github.com/search?q=sunnylqm&amp;type=Users" target="_blank" rel="noopener noreferrer">sunnylqm</a>(100.00%)<a class="hash-link" href="#本文档贡献者：sunnylqm10000" title="Direct link to heading">#</a></h5></div></article><div class="docMetadata margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/reactnativecn/react-native-website/blob/production/cnwebsite/versioned_docs/version-0.63/_getting-started-macos-android.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>改进文档</a></div><div class="col text--right"><em><small class="docMetadata-updated">最近更新  <time datetime="2021-01-24T07:33:19.000Z" class="docLastUpdatedAt_1gIo">1/24/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_1zTD thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#安装依赖" class="table-of-contents__link">安装依赖</a><ul><li><a href="#node--watchman" class="table-of-contents__link">Node &amp; Watchman</a></li><li><a href="#yarn" class="table-of-contents__link">Yarn</a></li><li><a href="#java-development-kit" class="table-of-contents__link">Java Development Kit</a></li><li><a href="#android-开发环境" class="table-of-contents__link">Android 开发环境</a></li></ul></li><li><a href="#准备-android-设备" class="table-of-contents__link">准备 Android 设备</a><ul><li><a href="#使用-android-真机" class="table-of-contents__link">使用 Android 真机</a></li><li><a href="#使用-android-模拟器" class="table-of-contents__link">使用 Android 模拟器</a></li></ul></li><li><a href="#编译并运行-react-native-应用" class="table-of-contents__link">编译并运行 React Native 应用</a><ul><li><a href="#修改项目" class="table-of-contents__link">修改项目</a></li><li><a href="#完成了！" class="table-of-contents__link">完成了！</a></li></ul></li><li><a href="#接下来？" class="table-of-contents__link">接下来？</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">React Native 中文网 © 2021 武汉青罗网络科技有限公司
      <a style="margin-left:10px" href="http://beian.miit.gov.cn/">鄂ICP备20002031号-3</a>
      <img style="width:25px" src="//img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png" alt="鄂公网安备 42011202001821号">
      <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821">鄂公网安备 42011202001821号</a>
      </div></div></div></footer></div>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/styles.b56b0f24.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/main.36ac3f9c.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/1.b05de58e.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/2.718b000f.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/336.b32bdd1f.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/ee5b3385.52422a11.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/17896441.bd402e69.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/f612f9dd.415cf873.js"></script>
<script src="//cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/f88ba1af.aa5e5cf3.js"></script>
</body>
</html>